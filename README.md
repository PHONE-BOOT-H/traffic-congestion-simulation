# 교통 혼잡도 시뮬레이션

불법 주정차 단속과 Kiss & Ride 구역 도입이 교통 흐름에 미치는 영향을 시뮬레이션하는 프로그램입니다.

## 핵심 가설

공간을 통제하는 것보다 **정차 시간을 통제하는 것**이 교통 체증 해소의 핵심입니다.

## 실행 방법

### 필요 사항
- Python 3.7 이상
- pygame 라이브러리

### 설치 및 실행

1. **Python 설치 확인**
   ```bash
   python --version
   ```
   Python이 설치되어 있지 않다면 [python.org](https://www.python.org/downloads/)에서 다운로드하세요.

2. **프로젝트 다운로드**
   ```bash
   git clone https://github.com/PHONE-BOOT-H/traffic-congestion-simulation.git
   cd traffic-congestion-simulation
   ```
   또는 ZIP 파일로 다운로드 후 압축 해제

3. **필요한 라이브러리 설치**
   ```bash
   pip install pygame
   ```
   또는 requirements.txt 사용:
   ```bash
   pip install -r requirements.txt
   ```

4. **시뮬레이션 실행**
   ```bash
   python traffic_simulation.py
   ```
   
   **주의**: Jupyter Notebook이 아닌 **터미널(Windows: 명령 프롬프트 또는 PowerShell, Mac/Linux: 터미널)**에서 실행하세요.

## 시뮬레이션 작동 방식

### 도로 구조
- 본선 도로: 2차선 (좌측 추월차선, 우측 주행차선)
- 포켓도로: 하류 측 주정차 구역 (용량 6대)
- 육교 밑: 상류 측 주정차 구역 (용량 5대)

### 차량 행동 모델
- **대기 행렬 이론** 기반: 차량은 앞 차량과 안전거리를 유지하며 주행
- **차선 변경**: 우측 차선이 막히면 좌측 차선으로 자동 전환
- **충돌 방지**: 차량 간 최소 거리 유지 알고리즘 적용
- **주차 로직**: 주차 공간이 가득 차면 대기, 공간이 생기면 순차적으로 주차

### 시나리오별 정차 시간 설정
- **시나리오 1 (현황)**: 60초 ~ 300초 (1분 ~ 5분)
- **시나리오 2 (단속 강화)**: 180초 ~ 600초 (3분 ~ 10분)
- **시나리오 3 (K&R 도입)**: 30초 ~ 60초 (30초 ~ 1분)

## 조작

- **1번 키**: 시나리오 1 - 현황 (육교 밑과 포켓도로에 주정차 분산)
- **2번 키**: 시나리오 2 - 단속 강화 (육교 밑 단속으로 포켓도로 집중, 긴 정차 시간으로 인한 풍선 효과)
- **3번 키**: 시나리오 3 - K&R 도입 (1분 이내 하차 규칙으로 차량 회전율 향상)
- **S키**: 스크린샷 저장

## 시뮬레이션이 보여주는 것

### 시나리오 1: 현황
주정차가 두 구역에 분산되어 있어 완전히 막히지는 않지만 흐름이 산만합니다.

### 시나리오 2: 단순 단속 강화
육교 밑을 단속하면 모든 차량이 포켓도로로 몰립니다. **긴 정차 시간** 때문에 포켓도로가 포화되고, 대기 차량이 본선 도로까지 차단하는 **풍선 효과**가 발생합니다. 공간만 통제하면 오히려 교통이 더 악화될 수 있음을 보여줍니다.

### 시나리오 3: K&R 도입
단속과 함께 **정차 시간을 1분 이내로 제한**하면, 같은 교통량임에도 차량 회전율이 빨라져 원활한 소통이 가능합니다. **정차 시간 통제가 핵심**임을 입증합니다.

## 기술적 구현

- **유량 보존 법칙**: 도로 용량은 고정하고 정차 시간만 변수로 두어 인과관계를 명확히 분석
- **상태 머신**: 각 차량은 DRIVING → PARKING_MOVE → PARKED → LEAVING 상태를 거침
- **실시간 시각화**: Pygame으로 차량 움직임과 정체 상황을 실시간으로 확인 가능